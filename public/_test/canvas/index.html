<html><head>
    <title>Sketch.js - Simple Canvas-based Drawing for jQuery</title>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="sketch.js"></script>
    <script src="canvasSaver.js"></script>
    <link href="http://fonts.googleapis.com/css?family=Yellowtail|Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">

    <style type="text/css">
      body { font-family: "Open Sans", sans-serif; color: #444; }
      h1, h2, h3, h4 { font-family: Yellowtail; font-weight: normal; color: #06a; }

      #wrapper { width: 800px; margin: 0 auto; }

      header { text-align: center; }
      header h1 { font-size: 46px; text-align: center; margin: 15px 10px; }

      article h1 { font-size: 26px; margin: 0 0 15px; }

      article canvas {
        width: 800px;
        height: 300px;
        border: 1px solid #ccc;
      }

      pre.source {
        background: #e5eeee;
        padding: 10px 20px;
        width: 760px;
        overflow-x: auto;
        border: 1px solid #acc;
      }

      code { background: #cff; }

      .tools { margin-bottom: 10px; }
      .tools a {
        border: 1px solid black; height: 30px; line-height: 30px; padding: 0 10px; vertical-align: middle; text-align: center; text-decoration: none; display: inline-block; color: black; font-weight: bold;
      }
    </style>
  </head>
  <body cz-shortcut-listen="true">
    <div id="wrapper">

      <article class="example">


        <div class="demo" id="colors_demo">
          <div class="tools">
            <!--<a href="#colors_sketch" data-download="png" style="float: right; width: 100px;">Download</a>-->
            <a id="save-canvas" style="float: right; width: 100px;">Save</a>
          <!--<a href="#colors_sketch" data-color="#f00" style="width: 10px; background: #f00;"></a> <a href="#colors_sketch" data-color="#ff0" style="width: 10px; background: #ff0;"></a> <a href="#colors_sketch" data-color="#0f0" style="width: 10px; background: #0f0;"></a> <a href="#colors_sketch" data-color="#0ff" style="width: 10px; background: #0ff;"></a> <a href="#colors_sketch" data-color="#00f" style="width: 10px; background: #00f;"></a> <a href="#colors_sketch" data-color="#f0f" style="width: 10px; background: #f0f;"></a> <a href="#colors_sketch" data-color="#000" style="width: 10px; background: #000;"></a> <a href="#colors_sketch" data-color="#fff" style="width: 10px; background: #fff;"></a> <a href="#colors_sketch" data-size="3" style="background: #ccc">3</a> <a href="#colors_sketch" data-size="5" style="background: #ccc">5</a> <a href="#colors_sketch" data-size="10" style="background: #ccc">10</a> <a href="#colors_sketch" data-size="15" style="background: #ccc">15</a>-->
          </div>
          <canvas id="colors_sketch" width="800" height="300" style="background: url(http://farm1.static.flickr.com/91/239595759_3c3626b24a_b.jpg) no-repeat center center;opacity:0.4;filter:alpha(opacity=40);"></canvas>

<div>
    <div style="position: absolute;" width="800" height="300">
        <!--<div style="position: relative; top: 80px; left: 100px;"><img src="239595759_3c3626b24a_b.jpg" style="opacity:0.4;filter:alpha(opacity=40);"></img></div>-->
        <div style="position: relative; top: 0px; left: 0px;"><img src="239595759_3c3626b24a_b.jpg" style="opacity:0.4;filter:alpha(opacity=40);" width="800" height="300"></img></div>
    </div>
    <div style="position: absolute;" width="800" height="300">
        <!--<div style="position: relative; top: 80px; left: 120px;"><img src="test.png"></img></div>-->
        <div style="position: relative; top: 0px; left: 0px;" width="800" height="300"><img src="test.png"></img></div>
        <!--<div style="position: relative; top: 0px; left: 0px;" width="800" height="300"><img src="/photo/canvas/test.png"></img></div>-->
    </div>
    <!--<img src="images/background.jpg"></img>-->
</div>

          <script type="text/javascript">
            $(function() {

              $.each(['#f00', '#ff0', '#0f0', '#0ff', '#00f', '#f0f', '#000', '#fff'], function() {
                $('#colors_demo .tools').append("<a href='#colors_sketch' data-color='" + this + "' style='width: 10px; background: " + this + ";'></a> ");
              });
              $.each([3, 5, 10, 15], function() {
                $('#colors_demo .tools').append("<a href='#colors_sketch' data-size='" + this + "' style='background: #ccc'>" + this + "</a> ");
              });

              $('#colors_sketch').sketch();

//API/utils/upload.php/savePhoto/' + id
              var id = '123456';
              var cs = new CanvasSaver('http://192.168.0.11/mH/API/utils/upload.php/saveCanvas/' + id);
              var cnvs = document.getElementById('colors_sketch');
              //cs.generateButton('save an image!', cnvs, 'myimage');

              $('#save-canvas').on('click', function(){
                console.log('save-canvas');
                //cs.savePNG(cnvs, fname);
                cs.savePNG(cnvs, 'filename');
              });
            });
          </script>
        </div>
</article>


    </div>

</body></html>